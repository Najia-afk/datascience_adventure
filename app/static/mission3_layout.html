<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission 3: Data Exploration</title>
    <link rel="stylesheet" href="../styles/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <style>
        .iframe-container {
            position: relative;
            width: 100%;
            overflow: hidden; /* Ensures no internal scrollbars */
        }

        .iframe-container iframe {
            width: 100%;
            border: none;
        }

        /* Hidden iframe used for measuring height */
        .hidden-iframe {
            display: none; /* Completely hide the proxy iframe */
            visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            height: 0;
            width: 0;
            border: none;
        }
    </style>
</head>

<body>
    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Scripts Used in This Notebook:</h2>
            <ul>
                <li><a href="scripts/df_filtering.html" target="_blank">df_filtering.py</a></li>
                <li><a href="scripts/df_fuzzywuzzy.html" target="_blank">df_fuzzywuzzy.py</a></li>
                <li><a href="scripts/plot_nutriscore.html" target="_blank">plot_nutriscore.py</a></li>
                <li><a href="scripts/df_generator.html" target="_blank">df_generator.py</a></li>
                <li><a href="scripts/df_business_data_integrity.html" target="_blank">df_business_data_integrity.py</a></li>
            </ul>
        </aside>

        <!-- Main Content Area -->
        <section class="main-content">
            <div class="project-header">
                <h1>Mission 3: Data Exploration for a Public Health Agency</h1>
                <p>The Public Health Agency wishes to improve the quality of Open Food Facts data, an open source database is made available to individuals and organizations to allow them to know the nutritional quality of products.</p>
            </div>

            <!-- Google Colab Button -->
            <div class="button-container">
                <a href="https://colab.research.google.com/github/Datascience-Adventure/mission3/blob/main/Mission3.ipynb" target="_blank">
                    Run on Google Colab
                </a>
            </div>

            <!-- Iframe Display for the Jupyter Notebook -->
            <div class="iframe-container">
                <iframe id="main-iframe" src="/mission3/Mission3.html"></iframe>
                <!-- Hidden iframe to measure content height -->
                <iframe id="proxy-iframe" class="hidden-iframe" src="/mission3/Mission3.html"></iframe>
            </div>
        </section>
    </div>

    <!-- JavaScript for Measuring and Applying Height -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var mainIframe = document.getElementById('main-iframe');
            var proxyIframe = document.getElementById('proxy-iframe');

            proxyIframe.onload = function () {
                // Measure the height of the content inside the proxy iframe
                var proxyDocument = proxyIframe.contentDocument || proxyIframe.contentWindow.document;
                var contentHeight = proxyDocument.body.scrollHeight;

                // Set the height of the main iframe based on the measured content height
                mainIframe.style.height = contentHeight + 'px';
            };
        });
    </script>
</body>
</html>
